<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/qgis2web.css"><link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/filter.css">
<link rel="stylesheet" href="css/nouislider.min.css">
        <link rel="stylesheet" href="css/leaflet-measure.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title></title>
    </head>
    <body>
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet.wms.js"></script>
        <script src="js/leaflet-measure.js"></script>
        <script src="js/tailDT.js"></script>
<script src="js/nouislider.min.js"></script>
<script src="js/wNumb.js"></script>
        <script src="data/rahvastik_asula_jargi_5.js"></script>
        <script src="data/maalidmaakonniti_6.js"></script>
        <script src="data/maastikumaalid_7.js"></script>
        <script>
        var map = L.map('map', {
            zoomControl:true, maxZoom:28, minZoom:1
        })
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        var measureControl = new L.Control.Measure({
            position: 'topleft',
            primaryLengthUnit: 'meters',
            secondaryLengthUnit: 'kilometers',
            primaryAreaUnit: 'sqmeters',
            secondaryAreaUnit: 'hectares'
        });
        measureControl.addTo(map);
        document.getElementsByClassName('leaflet-control-measure-toggle')[0]
        .innerHTML = '';
        document.getElementsByClassName('leaflet-control-measure-toggle')[0]
        .className += ' fas fa-ruler';
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
            if (bounds_group.getLayers().length) {
                map.fitBounds(bounds_group.getBounds());
            }
        }
        map.createPane('pane_ESRIGraylight_0');
        map.getPane('pane_ESRIGraylight_0').style.zIndex = 400;
        var layer_ESRIGraylight_0 = L.tileLayer('http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {
            pane: 'pane_ESRIGraylight_0',
            opacity: 1.0,
            attribution: '',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 20
        });
        layer_ESRIGraylight_0;
        map.addLayer(layer_ESRIGraylight_0);
        map.createPane('pane_Maaametialuskaardid_1');
        map.getPane('pane_Maaametialuskaardid_1').style.zIndex = 401;
        var layer_Maaametialuskaardid_1 = L.WMS.layer("https://kaart.maaamet.ee/wms/alus", "MA-ALUS", {
            pane: 'pane_Maaametialuskaardid_1',
            format: 'image/png',
            uppercase: true,
            transparent: true,
            continuousWorld : true,
            tiled: true,
            info_format: 'text/html',
            opacity: 1,
            identify: false,
            attribution: '',
        });
        map.createPane('pane_maalid_heatmap_2');
        map.getPane('pane_maalid_heatmap_2').style.zIndex = 402;
        var img_maalid_heatmap_2 = 'data/maalid_heatmap_2.png';
        var img_bounds_maalid_heatmap_2 = [[57.48170777026011,21.683124094339934],[59.834747407253424,28.255666777685043]];
        var layer_maalid_heatmap_2 = new L.imageOverlay(img_maalid_heatmap_2,
                                              img_bounds_maalid_heatmap_2,
                                              {pane: 'pane_maalid_heatmap_2'});
        bounds_group.addLayer(layer_maalid_heatmap_2);
        map.createPane('pane_rahvastik_paevase_asukoha_jargi_heatmap_3');
        map.getPane('pane_rahvastik_paevase_asukoha_jargi_heatmap_3').style.zIndex = 403;
        var img_rahvastik_paevase_asukoha_jargi_heatmap_3 = 'data/rahvastik_paevase_asukoha_jargi_heatmap_3.png';
        var img_bounds_rahvastik_paevase_asukoha_jargi_heatmap_3 = [[57.47650034152747,21.673907794485512],[59.838237768565065,28.247154066429122]];
        var layer_rahvastik_paevase_asukoha_jargi_heatmap_3 = new L.imageOverlay(img_rahvastik_paevase_asukoha_jargi_heatmap_3,
                                              img_bounds_rahvastik_paevase_asukoha_jargi_heatmap_3,
                                              {pane: 'pane_rahvastik_paevase_asukoha_jargi_heatmap_3'});
        bounds_group.addLayer(layer_rahvastik_paevase_asukoha_jargi_heatmap_3);
        map.createPane('pane_rahvastik_asula_jargi_heatmap_4');
        map.getPane('pane_rahvastik_asula_jargi_heatmap_4').style.zIndex = 404;
        var img_rahvastik_asula_jargi_heatmap_4 = 'data/rahvastik_asula_jargi_heatmap_4.png';
        var img_bounds_rahvastik_asula_jargi_heatmap_4 = [[57.477176147122734,21.667723411320374],[59.83872982716573,28.2410826605695]];
        var layer_rahvastik_asula_jargi_heatmap_4 = new L.imageOverlay(img_rahvastik_asula_jargi_heatmap_4,
                                              img_bounds_rahvastik_asula_jargi_heatmap_4,
                                              {pane: 'pane_rahvastik_asula_jargi_heatmap_4'});
        bounds_group.addLayer(layer_rahvastik_asula_jargi_heatmap_4);
        function pop_rahvastik_asula_jargi_5(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(feature.properties['fid'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['VID'] !== null ? autolinker.link(feature.properties['VID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['KOOD'] !== null ? autolinker.link(feature.properties['KOOD'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NIMI'] !== null ? autolinker.link(feature.properties['NIMI'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['VAARTUS'] !== null ? autolinker.link(feature.properties['VAARTUS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['STAMP_CRE'] !== null ? autolinker.link(feature.properties['STAMP_CRE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['JUHUSLIK'] !== null ? autolinker.link(feature.properties['JUHUSLIK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['GEOKODEER8'] !== null ? autolinker.link(feature.properties['GEOKODEER8'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_rahvastik_asula_jargi_5_0(feature) {
            if (feature.properties['VAARTUS'] >= 4.000000 && feature.properties['VAARTUS'] <= 16.000000 ) {
                return {
                pane: 'pane_rahvastik_asula_jargi_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(0,0,4,1.0)',
                interactive: false,
            }
            }
            if (feature.properties['VAARTUS'] >= 16.000000 && feature.properties['VAARTUS'] <= 30.000000 ) {
                return {
                pane: 'pane_rahvastik_asula_jargi_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(80,18,123,1.0)',
                interactive: false,
            }
            }
            if (feature.properties['VAARTUS'] >= 30.000000 && feature.properties['VAARTUS'] <= 51.000000 ) {
                return {
                pane: 'pane_rahvastik_asula_jargi_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(182,55,122,1.0)',
                interactive: false,
            }
            }
            if (feature.properties['VAARTUS'] >= 51.000000 && feature.properties['VAARTUS'] <= 105.000000 ) {
                return {
                pane: 'pane_rahvastik_asula_jargi_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(251,135,97,1.0)',
                interactive: false,
            }
            }
            if (feature.properties['VAARTUS'] >= 105.000000 && feature.properties['VAARTUS'] <= 116153.000000 ) {
                return {
                pane: 'pane_rahvastik_asula_jargi_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(252,253,191,1.0)',
                interactive: false,
            }
            }
        }
        map.createPane('pane_rahvastik_asula_jargi_5');
        map.getPane('pane_rahvastik_asula_jargi_5').style.zIndex = 405;
        map.getPane('pane_rahvastik_asula_jargi_5').style['mix-blend-mode'] = 'normal';
        var layer_rahvastik_asula_jargi_5 = new L.geoJson(json_rahvastik_asula_jargi_5, {
            attribution: '',
            interactive: false,
            dataVar: 'json_rahvastik_asula_jargi_5',
            layerName: 'layer_rahvastik_asula_jargi_5',
            pane: 'pane_rahvastik_asula_jargi_5',
            onEachFeature: pop_rahvastik_asula_jargi_5,
            style: style_rahvastik_asula_jargi_5_0,
        });
        bounds_group.addLayer(layer_rahvastik_asula_jargi_5);
        function pop_maalidmaakonniti_6(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['MNIMI'] !== null ? autolinker.link(feature.properties['MNIMI'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Maale</strong><br />' + (feature.properties['Maale'] !== null ? autolinker.link(feature.properties['Maale'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_maalidmaakonniti_6_0(feature) {
            if (feature.properties['Maale'] >= 3.000000 && feature.properties['Maale'] <= 5.000000 ) {
                return {
                pane: 'pane_maalidmaakonniti_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,204,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Maale'] >= 5.000000 && feature.properties['Maale'] <= 9.000000 ) {
                return {
                pane: 'pane_maalidmaakonniti_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(194,230,153,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Maale'] >= 9.000000 && feature.properties['Maale'] <= 12.000000 ) {
                return {
                pane: 'pane_maalidmaakonniti_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(120,198,121,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Maale'] >= 12.000000 && feature.properties['Maale'] <= 18.000000 ) {
                return {
                pane: 'pane_maalidmaakonniti_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(49,163,84,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Maale'] >= 18.000000 && feature.properties['Maale'] <= 26.000000 ) {
                return {
                pane: 'pane_maalidmaakonniti_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(0,104,55,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_maalidmaakonniti_6');
        map.getPane('pane_maalidmaakonniti_6').style.zIndex = 406;
        map.getPane('pane_maalidmaakonniti_6').style['mix-blend-mode'] = 'normal';
        var layer_maalidmaakonniti_6 = new L.geoJson(json_maalidmaakonniti_6, {
            attribution: '',
            interactive: true,
            dataVar: 'json_maalidmaakonniti_6',
            layerName: 'layer_maalidmaakonniti_6',
            pane: 'pane_maalidmaakonniti_6',
            onEachFeature: pop_maalidmaakonniti_6,
            style: style_maalidmaakonniti_6_0,
        });
        bounds_group.addLayer(layer_maalidmaakonniti_6);
        function pop_maastikumaalid_7(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2"><strong>eesnimi</strong><br />' + (feature.properties['eesnimi'] !== null ? autolinker.link(feature.properties['eesnimi'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>perekonnanimi</strong><br />' + (feature.properties['perekonnanimi'] !== null ? autolinker.link(feature.properties['perekonnanimi'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>pealkiri</strong><br />' + (feature.properties['pealkiri'] !== null ? autolinker.link(feature.properties['pealkiri'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>aasta</strong><br />' + (feature.properties['aasta'] !== null ? autolinker.link(feature.properties['aasta'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>kogu</strong><br />' + (feature.properties['kogu'] !== null ? autolinker.link(feature.properties['kogu'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>koht</strong><br />' + (feature.properties['koht'] !== null ? autolinker.link(feature.properties['koht'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>maakond</strong><br />' + (feature.properties['maakond'] !== null ? autolinker.link(feature.properties['maakond'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_maastikumaalid_7_0() {
            return {
                pane: 'pane_maastikumaalid_7',
                radius: 4.0,
                stroke: false,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(248,168,76,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_maastikumaalid_7');
        map.getPane('pane_maastikumaalid_7').style.zIndex = 407;
        map.getPane('pane_maastikumaalid_7').style['mix-blend-mode'] = 'normal';
        var layer_maastikumaalid_7 = new L.geoJson(json_maastikumaalid_7, {
            attribution: '',
            interactive: true,
            dataVar: 'json_maastikumaalid_7',
            layerName: 'layer_maastikumaalid_7',
            pane: 'pane_maastikumaalid_7',
            onEachFeature: pop_maastikumaalid_7,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_maastikumaalid_7_0(feature));
            },
        });
        bounds_group.addLayer(layer_maastikumaalid_7);
        map.addLayer(layer_maastikumaalid_7);
        var baseMaps = {};
        L.control.layers(baseMaps,{'<img src="legend/maastikumaalid_7.png" /> maastikumaalid': layer_maastikumaalid_7,'maalid maakonniti<br /><table><tr><td style="text-align: center;"><img src="legend/maalidmaakonniti_6_350.png" /></td><td>3 - 5</td></tr><tr><td style="text-align: center;"><img src="legend/maalidmaakonniti_6_591.png" /></td><td>5 - 9</td></tr><tr><td style="text-align: center;"><img src="legend/maalidmaakonniti_6_9122.png" /></td><td>9 - 12</td></tr><tr><td style="text-align: center;"><img src="legend/maalidmaakonniti_6_12183.png" /></td><td>12 - 18</td></tr><tr><td style="text-align: center;"><img src="legend/maalidmaakonniti_6_18264.png" /></td><td>18 - 26</td></tr></table>': layer_maalidmaakonniti_6,'rahvastik_asula_jargi<br /><table><tr><td style="text-align: center;"><img src="legend/rahvastik_asula_jargi_5_4160.png" /></td><td>4 - 16</td></tr><tr><td style="text-align: center;"><img src="legend/rahvastik_asula_jargi_5_16301.png" /></td><td>16 - 30</td></tr><tr><td style="text-align: center;"><img src="legend/rahvastik_asula_jargi_5_30512.png" /></td><td>30 - 51</td></tr><tr><td style="text-align: center;"><img src="legend/rahvastik_asula_jargi_5_511053.png" /></td><td>51 - 105</td></tr><tr><td style="text-align: center;"><img src="legend/rahvastik_asula_jargi_5_1051161534.png" /></td><td>105 - 116153</td></tr></table>': layer_rahvastik_asula_jargi_5,"rahvastik_asula_jargi_heatmap": layer_rahvastik_asula_jargi_heatmap_4,"rahvastik_paevase_asukoha_jargi_heatmap": layer_rahvastik_paevase_asukoha_jargi_heatmap_3,"maalid_heatmap": layer_maalid_heatmap_2,"Maa-ameti aluskaardid": layer_Maaametialuskaardid_1,"ESRI Gray (light)": layer_ESRIGraylight_0,},{collapsed:false}).addTo(map);
        map.on("zoomend", function(){

                if (map.hasLayer(layer_maalidmaakonniti_6)) {
                    if (map.getZoom() <= 19 && map.getZoom() >= 19) {
                        layer_maalidmaakonniti_6.eachLayer(function (layer) {
                            layer.openTooltip();
                        });
                    } else {
                        layer_maalidmaakonniti_6.eachLayer(function (layer) {
                            layer.closeTooltip();
                        });
                    }
                }
        });
        setBounds();
                if (map.hasLayer(layer_maalidmaakonniti_6)) {
                    if (map.getZoom() <= 19 && map.getZoom() >= 19) {
                        layer_maalidmaakonniti_6.eachLayer(function (layer) {
                            layer.openTooltip();
                        });
                    } else {
                        layer_maalidmaakonniti_6.eachLayer(function (layer) {
                            layer.closeTooltip();
                        });
                    }
                }
        var mapDiv = document.getElementById('map');
        var row = document.createElement('div');
        row.className="row";
        row.id="all";
        row.style.height = "100%";
        var col1 = document.createElement('div');
        col1.className="col9";
        col1.id = "mapWindow";
        col1.style.height = "99%";
        col1.style.width = "80%";
        col1.style.display = "inline-block";
        var col2 = document.createElement('div');
        col2.className="col3";
        col2.id = "menu";
        col2.style.display = "inline-block";
        mapDiv.parentNode.insertBefore(row, mapDiv);
        document.getElementById("all").appendChild(col1);
        document.getElementById("all").appendChild(col2);
        col1.appendChild(mapDiv)
        var Filters = {"aasta": "str","kogu": "str","perekonnanimi": "str","eesnimi": "str"};
        function filterFunc() {
          map.eachLayer(function(lyr){
          if ("options" in lyr && "dataVar" in lyr["options"]){
            features = this[lyr["options"]["dataVar"]].features.slice(0);
            try{
              for (key in Filters){
                keyS = key.replace(/[^a-zA-Z0-9_]/g, "")
                if (Filters[key] == "str" || Filters[key] == "bool"){
                  var selection = [];
                  var options = document.getElementById("sel_" + keyS).options
                  for (var i=0; i < options.length; i++) {
                    if (options[i].selected) selection.push(options[i].value);
                  }
                    try{
                      if (key in features[0].properties){
                        for (i = features.length - 1;
                          i >= 0; --i){
                          if (selection.indexOf(
                          features[i].properties[key])<0
                          && selection.length>0) {
                          features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                  }
                }
                if (Filters[key] == "int"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (parseInt(features[i].properties[key])
                          < sliderVals[0]
                          || parseInt(features[i].properties[key])
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "real"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (features[i].properties[key]
                          < sliderVals[0]
                          || features[i].properties[key]
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "date"
                  || Filters[key] == "datetime"
                  || Filters[key] == "time"){
                  try{
                    if (key in features[0].properties){
                      HTMLkey = key.replace(/[&\/\\#,+()$~%.'":*?<>{} ]/g, '');
                      startdate = document.getElementById("dat_" +
                        HTMLkey + "_date1").value.replace(" ", "T");
                      enddate = document.getElementById("dat_" +
                        HTMLkey + "_date2").value.replace(" ", "T");
                      for (i = features.length - 1; i >= 0; --i){
                        if (features[i].properties[key] < startdate
                          || features[i].properties[key] > enddate){
                          features.splice(i,1);
                        }
                      }
                    }
                  } catch(err){
                  }
                }
              }
            } catch(err){
            }
          this[lyr["options"]["layerName"]].clearLayers();
          this[lyr["options"]["layerName"]].addData(features);
          }
          })
        }
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_aasta = document.createElement('div');
            div_aasta.id = "div_aasta";
            div_aasta.className= "filterselect";
            document.getElementById("menu").appendChild(div_aasta);
            sel_aasta = document.createElement('select');
            sel_aasta.multiple = true;
            sel_aasta.size = 10;
            sel_aasta.id = "sel_aasta";
            var aasta_options_str = "<option value='' unselected></option>";
            sel_aasta.onchange = function(){filterFunc()};
            aasta_options_str  += '<option value="NULL">NULL</option>';
            aasta_options_str  += '<option value="1840">1840</option>';
            aasta_options_str  += '<option value="1863">1863</option>';
            aasta_options_str  += '<option value="1866">1866</option>';
            aasta_options_str  += '<option value="1880-1899">1880-1899</option>';
            aasta_options_str  += '<option value="1906">1906</option>';
            aasta_options_str  += '<option value="1912">1912</option>';
            aasta_options_str  += '<option value="1913">1913</option>';
            aasta_options_str  += '<option value="1913-1914">1913-1914</option>';
            aasta_options_str  += '<option value="1914">1914</option>';
            aasta_options_str  += '<option value="1915-1916">1915-1916</option>';
            aasta_options_str  += '<option value="1915-1917">1915-1917</option>';
            aasta_options_str  += '<option value="1916-1917">1916-1917</option>';
            aasta_options_str  += '<option value="1919">1919</option>';
            aasta_options_str  += '<option value="1920">1920</option>';
            aasta_options_str  += '<option value="1920-1939">1920-1939</option>';
            aasta_options_str  += '<option value="1922">1922</option>';
            aasta_options_str  += '<option value="1923">1923</option>';
            aasta_options_str  += '<option value="1923-1924">1923-1924</option>';
            aasta_options_str  += '<option value="1925-1926">1925-1926</option>';
            aasta_options_str  += '<option value="1927">1927</option>';
            aasta_options_str  += '<option value="1930">1930</option>';
            aasta_options_str  += '<option value="1930-1934">1930-1934</option>';
            aasta_options_str  += '<option value="1930-1939">1930-1939</option>';
            aasta_options_str  += '<option value="1933">1933</option>';
            aasta_options_str  += '<option value="1934">1934</option>';
            aasta_options_str  += '<option value="1935">1935</option>';
            aasta_options_str  += '<option value="1935-1945">1935-1945</option>';
            aasta_options_str  += '<option value="1936-1939">1936-1939</option>';
            aasta_options_str  += '<option value="1937">1937</option>';
            aasta_options_str  += '<option value="1938">1938</option>';
            aasta_options_str  += '<option value="1939">1939</option>';
            aasta_options_str  += '<option value="1939-1940">1939-1940</option>';
            aasta_options_str  += '<option value="1940">1940</option>';
            aasta_options_str  += '<option value="1942">1942</option>';
            aasta_options_str  += '<option value="1942-1944">1942-1944</option>';
            aasta_options_str  += '<option value="1943">1943</option>';
            aasta_options_str  += '<option value="1945">1945</option>';
            aasta_options_str  += '<option value="1945-1949">1945-1949</option>';
            aasta_options_str  += '<option value="1946">1946</option>';
            aasta_options_str  += '<option value="1946-1947">1946-1947</option>';
            aasta_options_str  += '<option value="1947">1947</option>';
            aasta_options_str  += '<option value="1948">1948</option>';
            aasta_options_str  += '<option value="1951">1951</option>';
            aasta_options_str  += '<option value="1955">1955</option>';
            aasta_options_str  += '<option value="1955-1957">1955-1957</option>';
            aasta_options_str  += '<option value="1956">1956</option>';
            aasta_options_str  += '<option value="1958">1958</option>';
            aasta_options_str  += '<option value="1959">1959</option>';
            aasta_options_str  += '<option value="1960">1960</option>';
            aasta_options_str  += '<option value="1961">1961</option>';
            aasta_options_str  += '<option value="1962">1962</option>';
            aasta_options_str  += '<option value="1963">1963</option>';
            aasta_options_str  += '<option value="1964">1964</option>';
            aasta_options_str  += '<option value="1965">1965</option>';
            aasta_options_str  += '<option value="1966">1966</option>';
            aasta_options_str  += '<option value="1968">1968</option>';
            aasta_options_str  += '<option value="1969-1970">1969-1970</option>';
            aasta_options_str  += '<option value="1970">1970</option>';
            aasta_options_str  += '<option value="1973">1973</option>';
            aasta_options_str  += '<option value="1974">1974</option>';
            aasta_options_str  += '<option value="1975">1975</option>';
            aasta_options_str  += '<option value="1976">1976</option>';
            aasta_options_str  += '<option value="1980">1980</option>';
            aasta_options_str  += '<option value="1981">1981</option>';
            aasta_options_str  += '<option value="1982">1982</option>';
            aasta_options_str  += '<option value="1983">1983</option>';
            aasta_options_str  += '<option value="1985">1985</option>';
            aasta_options_str  += '<option value="1986">1986</option>';
            aasta_options_str  += '<option value="1989">1989</option>';
            aasta_options_str  += '<option value="1990">1990</option>';
            aasta_options_str  += '<option value="1990-1999">1990-1999</option>';
            aasta_options_str  += '<option value="1991">1991</option>';
            aasta_options_str  += '<option value="1992">1992</option>';
            aasta_options_str  += '<option value="1994">1994</option>';
            aasta_options_str  += '<option value="1995">1995</option>';
            aasta_options_str  += '<option value="2000">2000</option>';
            aasta_options_str  += '<option value="2001">2001</option>';
            aasta_options_str  += '<option value="2003">2003</option>';
            aasta_options_str  += '<option value="2004">2004</option>';
            aasta_options_str  += '<option value="2006">2006</option>';
            aasta_options_str  += '<option value="2007">2007</option>';
            aasta_options_str  += '<option value="2008">2008</option>';
            aasta_options_str  += '<option value="2009-2010">2009-2010</option>';
            aasta_options_str  += '<option value="2011">2011</option>';
            sel_aasta.innerHTML = aasta_options_str;
            div_aasta.appendChild(sel_aasta);
            var lab_aasta = document.createElement('div');
            lab_aasta.innerHTML = 'aasta';
            lab_aasta.className = 'filterlabel';
            div_aasta.appendChild(lab_aasta);
            var reset_aasta = document.createElement('div');
            reset_aasta.innerHTML = 'clear filter';
            reset_aasta.className = 'filterlabel';
            reset_aasta.onclick = function() {
                var options = document.getElementById("sel_aasta").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_aasta.appendChild(reset_aasta);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_kogu = document.createElement('div');
            div_kogu.id = "div_kogu";
            div_kogu.className= "filterselect";
            document.getElementById("menu").appendChild(div_kogu);
            sel_kogu = document.createElement('select');
            sel_kogu.multiple = true;
            sel_kogu.size = 10;
            sel_kogu.id = "sel_kogu";
            var kogu_options_str = "<option value='' unselected></option>";
            sel_kogu.onchange = function(){filterFunc()};
            kogu_options_str  += '<option value="Aivi Rossi kogu">Aivi Rossi kogu</option>';
            kogu_options_str  += '<option value="Andres Eilarti kogu">Andres Eilarti kogu</option>';
            kogu_options_str  += '<option value="Andrus Rüütli kogu">Andrus Rüütli kogu</option>';
            kogu_options_str  += '<option value="Autori kogu">Autori kogu</option>';
            kogu_options_str  += '<option value="Eesti Kunstimuuseum">Eesti Kunstimuuseum</option>';
            kogu_options_str  += '<option value="Eesti Looduskaitse seltsi kogu">Eesti Looduskaitse seltsi kogu</option>';
            kogu_options_str  += '<option value="Eesti Panga kogu">Eesti Panga kogu</option>';
            kogu_options_str  += '<option value="Eesti Vabariigi suursaatkond Pariisis">Eesti Vabariigi suursaatkond Pariisis</option>';
            kogu_options_str  += '<option value="Enn Kunila kogu">Enn Kunila kogu</option>';
            kogu_options_str  += '<option value="Erakogu">Erakogu</option>';
            kogu_options_str  += '<option value="Hiiumaa muuseum">Hiiumaa muuseum</option>';
            kogu_options_str  += '<option value="Leo Dolenko kogu">Leo Dolenko kogu</option>';
            kogu_options_str  += '<option value="Liisa-Kai Pihlaku kogu">Liisa-Kai Pihlaku kogu</option>';
            kogu_options_str  += '<option value="Markus Kasemaa kogu">Markus Kasemaa kogu</option>';
            kogu_options_str  += '<option value="Mart Lepa kogu">Mart Lepa kogu</option>';
            kogu_options_str  += '<option value="Perekond Loodmaa kogu">Perekond Loodmaa kogu</option>';
            kogu_options_str  += '<option value="Pärnu Linnagalerii">Pärnu Linnagalerii</option>';
            kogu_options_str  += '<option value="Põlevkivimuuseumi kogu">Põlevkivimuuseumi kogu</option>';
            kogu_options_str  += '<option value="Reigo Kuivjõe kogu">Reigo Kuivjõe kogu</option>';
            kogu_options_str  += '<option value="Salong Allee">Salong Allee</option>';
            kogu_options_str  += '<option value="Silvi Eilarti kogu">Silvi Eilarti kogu</option>';
            kogu_options_str  += '<option value="Tartu Kunstimuuseum">Tartu Kunstimuuseum</option>';
            kogu_options_str  += '<option value="Tiina Uutmaa kogu">Tiina Uutmaa kogu</option>';
            kogu_options_str  += '<option value="US Art Gallery">US Art Gallery</option>';
            kogu_options_str  += '<option value="Valga Muuseum">Valga Muuseum</option>';
            sel_kogu.innerHTML = kogu_options_str;
            div_kogu.appendChild(sel_kogu);
            var lab_kogu = document.createElement('div');
            lab_kogu.innerHTML = 'kogu';
            lab_kogu.className = 'filterlabel';
            div_kogu.appendChild(lab_kogu);
            var reset_kogu = document.createElement('div');
            reset_kogu.innerHTML = 'clear filter';
            reset_kogu.className = 'filterlabel';
            reset_kogu.onclick = function() {
                var options = document.getElementById("sel_kogu").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_kogu.appendChild(reset_kogu);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_perekonnanimi = document.createElement('div');
            div_perekonnanimi.id = "div_perekonnanimi";
            div_perekonnanimi.className= "filterselect";
            document.getElementById("menu").appendChild(div_perekonnanimi);
            sel_perekonnanimi = document.createElement('select');
            sel_perekonnanimi.multiple = true;
            sel_perekonnanimi.size = 10;
            sel_perekonnanimi.id = "sel_perekonnanimi";
            var perekonnanimi_options_str = "<option value='' unselected></option>";
            sel_perekonnanimi.onchange = function(){filterFunc()};
            perekonnanimi_options_str  += '<option value="Aasamaa">Aasamaa</option>';
            perekonnanimi_options_str  += '<option value="Aavik">Aavik</option>';
            perekonnanimi_options_str  += '<option value="Adamson">Adamson</option>';
            perekonnanimi_options_str  += '<option value="Adamson-Eric">Adamson-Eric</option>';
            perekonnanimi_options_str  += '<option value="Aiki">Aiki</option>';
            perekonnanimi_options_str  += '<option value="Allik">Allik</option>';
            perekonnanimi_options_str  += '<option value="Aren">Aren</option>';
            perekonnanimi_options_str  += '<option value="Bormeister">Bormeister</option>';
            perekonnanimi_options_str  += '<option value="Burman">Burman</option>';
            perekonnanimi_options_str  += '<option value="Burman jr">Burman jr</option>';
            perekonnanimi_options_str  += '<option value="Dücker">Dücker</option>';
            perekonnanimi_options_str  += '<option value="Elken">Elken</option>';
            perekonnanimi_options_str  += '<option value="Eller">Eller</option>';
            perekonnanimi_options_str  += '<option value="Espe">Espe</option>';
            perekonnanimi_options_str  += '<option value="Grünberg">Grünberg</option>';
            perekonnanimi_options_str  += '<option value="Guli">Guli</option>';
            perekonnanimi_options_str  += '<option value="Haamer">Haamer</option>';
            perekonnanimi_options_str  += '<option value="Hagen">Hagen</option>';
            perekonnanimi_options_str  += '<option value="Jansen">Jansen</option>';
            perekonnanimi_options_str  += '<option value="Jegorov">Jegorov</option>';
            perekonnanimi_options_str  += '<option value="Kamm">Kamm</option>';
            perekonnanimi_options_str  += '<option value="Kangilaski">Kangilaski</option>';
            perekonnanimi_options_str  += '<option value="Kasemaa">Kasemaa</option>';
            perekonnanimi_options_str  += '<option value="Kimm">Kimm</option>';
            perekonnanimi_options_str  += '<option value="Kits">Kits</option>';
            perekonnanimi_options_str  += '<option value="Kokamägi">Kokamägi</option>';
            perekonnanimi_options_str  += '<option value="Kongi">Kongi</option>';
            perekonnanimi_options_str  += '<option value="Kongo">Kongo</option>';
            perekonnanimi_options_str  += '<option value="Kormatšov">Kormatšov</option>';
            perekonnanimi_options_str  += '<option value="Kormašov">Kormašov</option>';
            perekonnanimi_options_str  += '<option value="Korstnik">Korstnik</option>';
            perekonnanimi_options_str  += '<option value="Kruusamäe">Kruusamäe</option>';
            perekonnanimi_options_str  += '<option value="Kuks">Kuks</option>';
            perekonnanimi_options_str  += '<option value="Kutsar">Kutsar</option>';
            perekonnanimi_options_str  += '<option value="Kõks">Kõks</option>';
            perekonnanimi_options_str  += '<option value="Köler">Köler</option>';
            perekonnanimi_options_str  += '<option value="Laarman">Laarman</option>';
            perekonnanimi_options_str  += '<option value="Laikmaa">Laikmaa</option>';
            perekonnanimi_options_str  += '<option value="Leppik">Leppik</option>';
            perekonnanimi_options_str  += '<option value="Liimand">Liimand</option>';
            perekonnanimi_options_str  += '<option value="Lätt">Lätt</option>';
            perekonnanimi_options_str  += '<option value="Malin">Malin</option>';
            perekonnanimi_options_str  += '<option value="Maran">Maran</option>';
            perekonnanimi_options_str  += '<option value="Mikko">Mikko</option>';
            perekonnanimi_options_str  += '<option value="Mootse">Mootse</option>';
            perekonnanimi_options_str  += '<option value="Mudist">Mudist</option>';
            perekonnanimi_options_str  += '<option value="Muks">Muks</option>';
            perekonnanimi_options_str  += '<option value="Murakin">Murakin</option>';
            perekonnanimi_options_str  += '<option value="Mäetamm">Mäetamm</option>';
            perekonnanimi_options_str  += '<option value="Mägar">Mägar</option>';
            perekonnanimi_options_str  += '<option value="Mägi">Mägi</option>';
            perekonnanimi_options_str  += '<option value="Möldroo">Möldroo</option>';
            perekonnanimi_options_str  += '<option value="Nagel">Nagel</option>';
            perekonnanimi_options_str  += '<option value="Navitrolla">Navitrolla</option>';
            perekonnanimi_options_str  += '<option value="Nyman">Nyman</option>';
            perekonnanimi_options_str  += '<option value="Nõmmik">Nõmmik</option>';
            perekonnanimi_options_str  += '<option value="Ohakas">Ohakas</option>';
            perekonnanimi_options_str  += '<option value="Okas">Okas</option>';
            perekonnanimi_options_str  += '<option value="Ole">Ole</option>';
            perekonnanimi_options_str  += '<option value="Olvi">Olvi</option>';
            perekonnanimi_options_str  += '<option value="Ormisson">Ormisson</option>';
            perekonnanimi_options_str  += '<option value="Oskar">Oskar</option>';
            perekonnanimi_options_str  += '<option value="Paris">Paris</option>';
            perekonnanimi_options_str  += '<option value="Pehap">Pehap</option>';
            perekonnanimi_options_str  += '<option value="Peil">Peil</option>';
            perekonnanimi_options_str  += '<option value="Pirk">Pirk</option>';
            perekonnanimi_options_str  += '<option value="Pudersell">Pudersell</option>';
            perekonnanimi_options_str  += '<option value="Pärsimägi">Pärsimägi</option>';
            perekonnanimi_options_str  += '<option value="Pääsuke">Pääsuke</option>';
            perekonnanimi_options_str  += '<option value="Püttsepp">Püttsepp</option>';
            perekonnanimi_options_str  += '<option value="Raud">Raud</option>';
            perekonnanimi_options_str  += '<option value="Raudsepp">Raudsepp</option>';
            perekonnanimi_options_str  += '<option value="Reindorff">Reindorff</option>';
            perekonnanimi_options_str  += '<option value="Roode">Roode</option>';
            perekonnanimi_options_str  += '<option value="Roosimölder">Roosimölder</option>';
            perekonnanimi_options_str  += '<option value="Roosma">Roosma</option>';
            perekonnanimi_options_str  += '<option value="Roosvalt">Roosvalt</option>';
            perekonnanimi_options_str  += '<option value="Saal">Saal</option>';
            perekonnanimi_options_str  += '<option value="Saarts">Saarts</option>';
            perekonnanimi_options_str  += '<option value="Sagrits">Sagrits</option>';
            perekonnanimi_options_str  += '<option value="Schmidt">Schmidt</option>';
            perekonnanimi_options_str  += '<option value="Siram">Siram</option>';
            perekonnanimi_options_str  += '<option value="Sooster">Sooster</option>';
            perekonnanimi_options_str  += '<option value="Suuman">Suuman</option>';
            perekonnanimi_options_str  += '<option value="Suumann">Suumann</option>';
            perekonnanimi_options_str  += '<option value="Süvalo">Süvalo</option>';
            perekonnanimi_options_str  += '<option value="Tammik">Tammik</option>';
            perekonnanimi_options_str  += '<option value="Terri">Terri</option>';
            perekonnanimi_options_str  += '<option value="Triik">Triik</option>';
            perekonnanimi_options_str  += '<option value="Uiga">Uiga</option>';
            perekonnanimi_options_str  += '<option value="Ulas">Ulas</option>';
            perekonnanimi_options_str  += '<option value="Uutmaa">Uutmaa</option>';
            perekonnanimi_options_str  += '<option value="Vabbe">Vabbe</option>';
            perekonnanimi_options_str  += '<option value="Vahtra">Vahtra</option>';
            perekonnanimi_options_str  += '<option value="Vardi">Vardi</option>';
            perekonnanimi_options_str  += '<option value="Viiralt">Viiralt</option>';
            perekonnanimi_options_str  += '<option value="Võerahansu">Võerahansu</option>';
            sel_perekonnanimi.innerHTML = perekonnanimi_options_str;
            div_perekonnanimi.appendChild(sel_perekonnanimi);
            var lab_perekonnanimi = document.createElement('div');
            lab_perekonnanimi.innerHTML = 'perekonnanimi';
            lab_perekonnanimi.className = 'filterlabel';
            div_perekonnanimi.appendChild(lab_perekonnanimi);
            var reset_perekonnanimi = document.createElement('div');
            reset_perekonnanimi.innerHTML = 'clear filter';
            reset_perekonnanimi.className = 'filterlabel';
            reset_perekonnanimi.onclick = function() {
                var options = document.getElementById("sel_perekonnanimi").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_perekonnanimi.appendChild(reset_perekonnanimi);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_eesnimi = document.createElement('div');
            div_eesnimi.id = "div_eesnimi";
            div_eesnimi.className= "filterselect";
            document.getElementById("menu").appendChild(div_eesnimi);
            sel_eesnimi = document.createElement('select');
            sel_eesnimi.multiple = true;
            sel_eesnimi.size = 10;
            sel_eesnimi.id = "sel_eesnimi";
            var eesnimi_options_str = "<option value='' unselected></option>";
            sel_eesnimi.onchange = function(){filterFunc()};
            eesnimi_options_str  += '<option value="NULL">NULL</option>';
            eesnimi_options_str  += '<option value="Ado">Ado</option>';
            eesnimi_options_str  += '<option value="Aleksander">Aleksander</option>';
            eesnimi_options_str  += '<option value="Alfred">Alfred</option>';
            eesnimi_options_str  += '<option value="Amandus">Amandus</option>';
            eesnimi_options_str  += '<option value="Andrei">Andrei</option>';
            eesnimi_options_str  += '<option value="Ants">Ants</option>';
            eesnimi_options_str  += '<option value="August">August</option>';
            eesnimi_options_str  += '<option value="August Matthias">August Matthias</option>';
            eesnimi_options_str  += '<option value="Eduard">Eduard</option>';
            eesnimi_options_str  += '<option value="Eerik">Eerik</option>';
            eesnimi_options_str  += '<option value="Ellinor">Ellinor</option>';
            eesnimi_options_str  += '<option value="Elmar">Elmar</option>';
            eesnimi_options_str  += '<option value="Endel">Endel</option>';
            eesnimi_options_str  += '<option value="Enno">Enno</option>';
            eesnimi_options_str  += '<option value="Erich">Erich</option>';
            eesnimi_options_str  += '<option value="Erik">Erik</option>';
            eesnimi_options_str  += '<option value="Esko">Esko</option>';
            eesnimi_options_str  += '<option value="Eugen Gustav">Eugen Gustav</option>';
            eesnimi_options_str  += '<option value="Evald">Evald</option>';
            eesnimi_options_str  += '<option value="Gustav">Gustav</option>';
            eesnimi_options_str  += '<option value="Günther">Günther</option>';
            eesnimi_options_str  += '<option value="Harri">Harri</option>';
            eesnimi_options_str  += '<option value="Heinrich">Heinrich</option>';
            eesnimi_options_str  += '<option value="Henn">Henn</option>';
            eesnimi_options_str  += '<option value="Henrik">Henrik</option>';
            eesnimi_options_str  += '<option value="Ilmar">Ilmar</option>';
            eesnimi_options_str  += '<option value="Imat">Imat</option>';
            eesnimi_options_str  += '<option value="Jaan">Jaan</option>';
            eesnimi_options_str  += '<option value="Johann">Johann</option>';
            eesnimi_options_str  += '<option value="Johannes">Johannes</option>';
            eesnimi_options_str  += '<option value="Juhan">Juhan</option>';
            eesnimi_options_str  += '<option value="Kaarel">Kaarel</option>';
            eesnimi_options_str  += '<option value="Kalju">Kalju</option>';
            eesnimi_options_str  += '<option value="Karl">Karl</option>';
            eesnimi_options_str  += '<option value="Karl-Kristjan">Karl-Kristjan</option>';
            eesnimi_options_str  += '<option value="Konrad">Konrad</option>';
            eesnimi_options_str  += '<option value="Konstantin">Konstantin</option>';
            eesnimi_options_str  += '<option value="Kristi">Kristi</option>';
            eesnimi_options_str  += '<option value="Kristjan">Kristjan</option>';
            eesnimi_options_str  += '<option value="Lembit">Lembit</option>';
            eesnimi_options_str  += '<option value="Lepo">Lepo</option>';
            eesnimi_options_str  += '<option value="Ludvig">Ludvig</option>';
            eesnimi_options_str  += '<option value="Lui">Lui</option>';
            eesnimi_options_str  += '<option value="Luulik">Luulik</option>';
            eesnimi_options_str  += '<option value="Maks">Maks</option>';
            eesnimi_options_str  += '<option value="Marju">Marju</option>';
            eesnimi_options_str  += '<option value="Marko">Marko</option>';
            eesnimi_options_str  += '<option value="Markus">Markus</option>';
            eesnimi_options_str  += '<option value="Märt">Märt</option>';
            eesnimi_options_str  += '<option value="Nigul">Nigul</option>';
            eesnimi_options_str  += '<option value="Nikolai">Nikolai</option>';
            eesnimi_options_str  += '<option value="Olav">Olav</option>';
            eesnimi_options_str  += '<option value="Olga">Olga</option>';
            eesnimi_options_str  += '<option value="Ott">Ott</option>';
            eesnimi_options_str  += '<option value="Paul">Paul</option>';
            eesnimi_options_str  += '<option value="Peet">Peet</option>';
            eesnimi_options_str  += '<option value="Peeter">Peeter</option>';
            eesnimi_options_str  += '<option value="Priidu">Priidu</option>';
            eesnimi_options_str  += '<option value="Raivo">Raivo</option>';
            eesnimi_options_str  += '<option value="Rein">Rein</option>';
            eesnimi_options_str  += '<option value="Richard">Richard</option>';
            eesnimi_options_str  += '<option value="Roman">Roman</option>';
            eesnimi_options_str  += '<option value="Tarmo">Tarmo</option>';
            eesnimi_options_str  += '<option value="Tiit">Tiit</option>';
            eesnimi_options_str  += '<option value="Uno">Uno</option>';
            eesnimi_options_str  += '<option value="Valdur">Valdur</option>';
            eesnimi_options_str  += '<option value="Varmo">Varmo</option>';
            eesnimi_options_str  += '<option value="Viive">Viive</option>';
            eesnimi_options_str  += '<option value="Villem">Villem</option>';
            eesnimi_options_str  += '<option value="Voldemar">Voldemar</option>';
            eesnimi_options_str  += '<option value="Väino">Väino</option>';
            eesnimi_options_str  += '<option value="Ülo">Ülo</option>';
            sel_eesnimi.innerHTML = eesnimi_options_str;
            div_eesnimi.appendChild(sel_eesnimi);
            var lab_eesnimi = document.createElement('div');
            lab_eesnimi.innerHTML = 'eesnimi';
            lab_eesnimi.className = 'filterlabel';
            div_eesnimi.appendChild(lab_eesnimi);
            var reset_eesnimi = document.createElement('div');
            reset_eesnimi.innerHTML = 'clear filter';
            reset_eesnimi.className = 'filterlabel';
            reset_eesnimi.onclick = function() {
                var options = document.getElementById("sel_eesnimi").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_eesnimi.appendChild(reset_eesnimi);
        L.ImageOverlay.include({
            getBounds: function () {
                return this._bounds;
            }
        });
        resetLabels([layer_maalidmaakonniti_6,layer_maastikumaalid_7]);
        map.on("zoomend", function(){
            resetLabels([layer_maalidmaakonniti_6,layer_maastikumaalid_7]);
        });
        map.on("layeradd", function(){
            resetLabels([layer_maalidmaakonniti_6,layer_maastikumaalid_7]);
        });
        map.on("layerremove", function(){
            resetLabels([layer_maalidmaakonniti_6,layer_maastikumaalid_7]);
        });
        </script>
    </body>
</html>
